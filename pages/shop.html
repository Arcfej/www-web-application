<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="../css/bootstrap.css">
  <link rel="stylesheet" href="../css/master.css">

  <!-- Mapbox -->
  <script src='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v1.4.1/mapbox-gl.css' rel='stylesheet' />

  <!-- Icons -->
  <script src="https://kit.fontawesome.com/6854d7f83d.js" crossorigin="anonymous"></script>

  <title>The Little Green Larder</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <a class="navbar-brand" href="#">The Little Green Larder</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor01" aria-controls="navbarColor01" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor01">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="#">Products</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Delivery</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Events</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">How the shop works</a>
        </li>
      </ul>
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="text" placeholder="Search">
        <button class="btn btn-secondary my-2 my-sm-0" type="submit">Search</button>
      </form>
    </div>
  </nav>

  <main class="container">
    <h1 class="row">Welcome to The Little Green Larder Shop</h1>
    <h3 class="row">We are here:</h3>
    <div class="row">
      <div id='map'></div>
    </div>

  </main>

  <footer>
    <div class="footer">
      <p>Follow the Little Green Larder on social media</p>
    </div>
  </footer>

  <!-- Script for map from https://docs.mapbox.com/help/tutorials/custom-markers-gl-js/ -->
  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiYXJjZmVqIiwiYSI6ImNrMnhoazQyeDBicmYzYnBkbHF0cXp2anYifQ.esr-RTeyjx4JbwgctD1ykA';

    var map = new mapboxgl.Map({
      container: 'map',
      style: 'mapbox://styles/mapbox/streets-v11',
      center: [-2.992313, 56.455915],
      zoom: 14,
    });

    var geojson = {
      type: 'FeatureCollection',
      features: [
          {
            type: 'Feature',
            geometry: {
              type: "Point",
              coordinates: [-2.992313, 56.455915]
            },
            properties: {
              title: 'The Little Green Larder',
              description: 'The Little Green Larder offers a plastic free shopping experience, with zero waste alternatives to inspire us to create a greener future.'
            }
        }
      ]
    };

    // add markers to map
    geojson.features.forEach(function(marker) {
      // create a HTML element for each shop
      var el = document.createElement('i');
      el.className = 'marker';

      // make a marker for each shop and add to the map
      new mapboxgl.Marker(el)
        .setLngLat(marker.geometry.coordinates)
        .setPopup(new mapboxgl.Popup({ offset: 25 }) // add popups
          .setHTML('<h3>' + marker.properties.title + '</h3><p>' + marker.properties.description + '</p>')
          .addTo(map))
        .addTo(map);
    });
  </script>
</body>

</html>
